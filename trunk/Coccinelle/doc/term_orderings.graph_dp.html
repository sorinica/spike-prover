<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>term_orderings.graph_dp</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library term_orderings.graph_dp</h1>

<div class="code">

<br/>
<span class="id" type="keyword">Add</span> <span class="id" type="var">LoadPath</span> "basis".<br/>
<span class="id" type="keyword">Add</span> <span class="id" type="var">LoadPath</span> "list_extensions".<br/>
<span class="id" type="keyword">Add</span> <span class="id" type="var">LoadPath</span> "term_algebra".<br/>

<br/>
</div>

<div class="doc">
<a name="lab77"></a><h1 class="section">Termination of rewriting</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <span class="id" type="var">List</span>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <span class="id" type="var">Relations</span>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <span class="id" type="var">Wellfounded</span>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <span class="id" type="var">Arith</span>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <span class="id" type="var">Recdef</span>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <span class="id" type="var">Setoid</span>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <span class="id" type="var">closure</span>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <span class="id" type="var">more_list</span>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <span class="id" type="var">weaved_relation</span>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <span class="id" type="var">term_spec</span>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <span class="id" type="var">equational_theory_spec</span>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Export</span> <span class="id" type="var">dp</span>.<br/>

<br/>
<span class="id" type="keyword">Module</span> <span class="id" type="var">MakeGDP</span> (<span class="id" type="var">E</span> : <span class="id" type="var">EqTh</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Import</span> <span class="id" type="var">E</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Import</span> <span class="id" type="var">T</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Module</span> <span class="id" type="var">Dp</span> := <span class="id" type="var">dp.MakeDP</span> (<span class="id" type="var">E</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Import</span> <span class="id" type="var">Dp</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="var">dpi</span> <span class="id" type="var">comp</span> <span class="id" type="var">i</span> (<span class="id" type="var">v</span> <span class="id" type="var">u</span> : <span class="id" type="var">term</span>) := <span class="id" type="var">comp</span> (<span class="id" type="var">u</span>,v) = <span class="id" type="var">i</span> /\ <span class="id" type="var">i</span> &lt;&gt; 0.<br/>

<br/>
<span class="id" type="keyword">Inductive</span> <span class="id" type="var">hide_in_context</span> <span class="id" type="var">R</span> : <span class="id" type="var">relation</span> <span class="id" type="var">term</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="var">Hide_in_context</span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">f</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span>, (<span class="id" type="var">one_step_list</span> (<span class="id" type="var">one_step</span> <span class="id" type="var">R</span>)) <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> -&gt; <span class="id" type="var">hide_in_context</span> <span class="id" type="var">R</span> (<span class="id" type="var">Term</span> <span class="id" type="var">f</span> <span class="id" type="var">l1</span>) (<span class="id" type="var">Term</span> <span class="id" type="var">f</span> <span class="id" type="var">l2</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="var">expand_dp</span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">dpR</span> <span class="id" type="var">R</span> <span class="id" type="var">t</span> <span class="id" type="var">f</span> <span class="id" type="var">l</span>, <br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="var">rdp_step</span> <span class="id" type="var">dpR</span> <span class="id" type="var">R</span> <span class="id" type="var">t</span> (<span class="id" type="var">Term</span> <span class="id" type="var">f</span> <span class="id" type="var">l</span>) &lt;-&gt; <span class="id" type="var">compose_rel</span> <span class="id" type="var">dpR</span> (<span class="id" type="var">refl_trans_clos</span> (<span class="id" type="var">hide_in_context</span> <span class="id" type="var">R</span>)) <span class="id" type="var">t</span> (<span class="id" type="var">Term</span> <span class="id" type="var">f</span> <span class="id" type="var">l</span>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">dpR</span> <span class="id" type="var">R</span> <span class="id" type="var">t</span> <span class="id" type="var">f</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">split</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">g</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span> <span class="id" type="var">H3</span>]; <span class="id" type="tactic">subst</span>.<br/>
<span class="id" type="var">constructor</span> 1 <span class="id" type="keyword">with</span> (<span class="id" type="var">Term</span> <span class="id" type="var">f</span> <span class="id" type="var">l2</span>); <span class="id" type="tactic">trivial</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H4</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">k</span> | <span class="id" type="var">k1</span> <span class="id" type="var">k2</span> <span class="id" type="var">K2</span>]; <span class="id" type="tactic">subst</span>.<br/>
<span class="id" type="var">left</span>.<br/>
<span class="id" type="var">right</span>; <span class="id" type="tactic">clear</span> -K2; <span class="id" type="tactic">induction</span> <span class="id" type="var">K2</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> <span class="id" type="var">H</span> | <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> <span class="id" type="var">l3</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span>].<br/>
<span class="id" type="var">left</span>; <span class="id" type="var">constructor</span>; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="var">right</span> <span class="id" type="keyword">with</span> (<span class="id" type="var">Term</span> <span class="id" type="var">f</span> <span class="id" type="var">l2</span>); [ <span class="id" type="var">constructor</span> | ]; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">u1</span> <span class="id" type="var">u2</span> <span class="id" type="var">u3</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span>]; <span class="id" type="tactic">subst</span>.<br/>
<span class="id" type="tactic">assert</span> (<span class="id" type="var">K</span> : <span class="id" type="var">exists</span> <span class="id" type="var">l2</span>, <span class="id" type="var">u2</span> = <span class="id" type="var">Term</span> <span class="id" type="var">f</span> <span class="id" type="var">l2</span> /\ <span class="id" type="var">refl_trans_clos</span> (<span class="id" type="var">one_step_list</span> (<span class="id" type="var">one_step</span> <span class="id" type="var">R</span>)) <span class="id" type="var">l2</span> <span class="id" type="var">l</span>).<br/>
<span class="id" type="tactic">clear</span> -H2; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">u</span> | <span class="id" type="var">u1</span> <span class="id" type="var">v2</span> <span class="id" type="var">K2</span>]; <span class="id" type="tactic">clear</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">subst</span>.<br/>
<span class="id" type="var">exists</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">split</span>; [<span class="id" type="tactic">apply</span> <span class="id" type="var">refl_equal</span> | <span class="id" type="var">left</span>].<br/>
<span class="id" type="tactic">set</span> (<span class="id" type="var">s</span> := <span class="id" type="var">Term</span> <span class="id" type="var">f</span> <span class="id" type="var">l</span>) <span class="id" type="keyword">in</span> *.<br/>
<span class="id" type="tactic">assert</span> (<span class="id" type="var">s_eq_fl</span> := <span class="id" type="var">refl_equal</span> <span class="id" type="var">s</span>).<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">s</span> <span class="id" type="tactic">at</span> 2 <span class="id" type="keyword">in</span> <span class="id" type="var">s_eq_fl</span>; <span class="id" type="var">clearbody</span> <span class="id" type="var">s</span>.<br/>
<span class="id" type="var">revert</span> <span class="id" type="var">f</span> <span class="id" type="var">l</span> <span class="id" type="var">s_eq_fl</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">K2</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">t1</span> <span class="id" type="var">t2</span> <span class="id" type="var">K</span> | <span class="id" type="var">t1</span> <span class="id" type="var">t2</span> <span class="id" type="var">t3</span> <span class="id" type="var">K1</span> <span class="id" type="var">K2</span>]; <span class="id" type="tactic">intros</span> <span class="id" type="var">f</span> <span class="id" type="var">l</span> <span class="id" type="var">s_eq_fl</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">K</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">f'</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span>]; <span class="id" type="tactic">clear</span> <span class="id" type="var">K</span>; <span class="id" type="tactic">subst</span>.<br/>
<span class="id" type="tactic">injection</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">subst</span> <span class="id" type="var">f'</span> <span class="id" type="var">l2</span>.<br/>
<span class="id" type="var">exists</span> <span class="id" type="var">l1</span>; <span class="id" type="tactic">split</span>; [<span class="id" type="tactic">apply</span> <span class="id" type="var">refl_equal</span> | <span class="id" type="var">right</span>; <span class="id" type="var">left</span>; <span class="id" type="tactic">assumption</span>].<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">K1</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">f'</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span>]; <span class="id" type="tactic">clear</span> <span class="id" type="var">K1</span>; <span class="id" type="tactic">subst</span>.<br/>
<span class="id" type="tactic">destruct</span> (<span class="id" type="var">IHK2</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> (<span class="id" type="var">refl_equal</span> <span class="id" type="var">_</span>)) <span class="id" type="keyword">as</span> [<span class="id" type="var">l3</span> [<span class="id" type="var">J1</span> <span class="id" type="var">J2</span>]].<br/>
<span class="id" type="tactic">injection</span> <span class="id" type="var">J1</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">J1</span>; <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">subst</span> <span class="id" type="var">f'</span> <span class="id" type="var">l3</span>.<br/>
<span class="id" type="var">exists</span> <span class="id" type="var">l1</span>; <span class="id" type="tactic">split</span>; [<span class="id" type="tactic">apply</span> <span class="id" type="var">refl_equal</span> | <span class="id" type="tactic">apply</span> <span class="id" type="var">refl_trans_clos_is_trans</span> <span class="id" type="keyword">with</span> <span class="id" type="var">l2</span>; [<span class="id" type="var">right</span>; <span class="id" type="var">left</span> | ]; <span class="id" type="tactic">assumption</span>].<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">K</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">l2</span> [<span class="id" type="var">J1</span> <span class="id" type="var">J2</span>]].<br/>
<span class="id" type="tactic">subst</span> <span class="id" type="var">u2</span>; <span class="id" type="var">constructor</span> 1 <span class="id" type="keyword">with</span> <span class="id" type="var">l2</span>; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="var">split_rel</span> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">dpR</span> <span class="id" type="var">R</span> (<span class="id" type="var">comp</span> : <span class="id" type="var">term</span> * <span class="id" type="var">term</span> -&gt; <span class="id" type="var">nat</span>) <br/>
&nbsp;&nbsp;(<span class="id" type="var">comp_approx</span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">uv</span> <span class="id" type="var">uv'</span>, <span class="id" type="var">are_connected</span> <span class="id" type="var">dpR</span> <span class="id" type="var">R</span> <span class="id" type="var">uv</span> <span class="id" type="var">uv'</span> -&gt; <span class="id" type="var">comp</span> <span class="id" type="var">uv</span> &lt;= <span class="id" type="var">comp</span> <span class="id" type="var">uv'</span>) <br/>
&nbsp;&nbsp;(<span class="id" type="var">comp_def_on_dps</span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">u</span> <span class="id" type="var">v</span>, <span class="id" type="var">comp</span> (<span class="id" type="var">u</span>,v) &lt;&gt; 0 &lt;-&gt; <span class="id" type="var">dpR</span> <span class="id" type="var">v</span> <span class="id" type="var">u</span>) <br/>
&nbsp;&nbsp;(<span class="id" type="var">split_graph</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">exists</span> <span class="id" type="var">n0</span>,  <span class="id" type="keyword">forall</span> <span class="id" type="var">u</span> <span class="id" type="var">v</span>, (<span class="id" type="var">dpR</span> <span class="id" type="var">v</span> <span class="id" type="var">u</span>) &lt;-&gt; (<span class="id" type="var">exists</span> <span class="id" type="var">i</span>, <span class="id" type="var">i</span> &lt;= <span class="id" type="var">n0</span> /\ <span class="id" type="var">dpi</span> <span class="id" type="var">comp</span> <span class="id" type="var">i</span> <span class="id" type="var">v</span> <span class="id" type="var">u</span>)),<br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">P</span>,  <span class="id" type="var">well_founded</span> (<span class="id" type="var">rest</span> <span class="id" type="var">P</span> (<span class="id" type="var">rdp_step</span> (<span class="id" type="var">axiom</span> <span class="id" type="var">dpR</span>) <span class="id" type="var">R</span>))  &lt;-&gt; <br/>
&nbsp;&nbsp;(<span class="id" type="keyword">forall</span> <span class="id" type="var">n</span>, <span class="id" type="var">well_founded</span> (<span class="id" type="var">rest</span> <span class="id" type="var">P</span> (<span class="id" type="var">rdp_step</span> (<span class="id" type="var">axiom</span> (<span class="id" type="var">dpi</span> <span class="id" type="var">comp</span> <span class="id" type="var">n</span>)) <span class="id" type="var">R</span>))).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">dpR</span> <span class="id" type="var">R</span> <span class="id" type="var">comp</span> <span class="id" type="var">comp_approx</span> <span class="id" type="var">comp_def_on_dps</span> <span class="id" type="var">split_graph</span> <span class="id" type="var">P</span>.<br/>
<span class="id" type="tactic">split</span>.<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">W</span> <span class="id" type="var">n</span>; <span class="id" type="var">revert</span> <span class="id" type="var">W</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">wf_incl</span>; <span class="id" type="tactic">intros</span> <span class="id" type="var">s</span> <span class="id" type="var">t</span> [<span class="id" type="var">K</span> [<span class="id" type="var">As</span> <span class="id" type="var">At</span>]].<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">K</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">f</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> <span class="id" type="var">s'</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span>]; <span class="id" type="tactic">subst</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">t1</span> <span class="id" type="var">t2</span> <span class="id" type="var">sigma</span> <span class="id" type="var">H3</span> <span class="id" type="var">H4</span> <span class="id" type="var">H5</span>]; <span class="id" type="tactic">subst</span>.<br/>
<span class="id" type="tactic">split</span>; [ | <span class="id" type="tactic">split</span>; <span class="id" type="tactic">assumption</span>].<br/>
<span class="id" type="var">constructor</span> 1 <span class="id" type="keyword">with</span> <span class="id" type="var">l2</span>; <span class="id" type="tactic">trivial</span>.<br/>
<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H5</span>; <span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">comp_def_on_dps</span>.<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">n</span> <span class="id" type="keyword">as</span> [ | <span class="id" type="var">n</span>].<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">H3</span> <span class="id" type="keyword">as</span> [ <span class="id" type="var">_</span> <span class="id" type="var">H3</span>]; <span class="id" type="tactic">apply</span> <span class="id" type="var">False_rec</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">H3</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">refl_equal</span>.<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">H3</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">H3</span> <span class="id" type="var">_</span>]; <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H3</span>; <span class="id" type="tactic">discriminate</span>.<br/>

<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">split_graph</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">n</span> <span class="id" type="var">G</span>].<br/>
<span class="id" type="var">revert</span> <span class="id" type="var">comp</span> <span class="id" type="var">comp_approx</span> <span class="id" type="var">comp_def_on_dps</span> <span class="id" type="var">G</span>.<br/>
<span class="id" type="tactic">induction</span> <span class="id" type="var">n</span> <span class="id" type="keyword">as</span> [ | <span class="id" type="var">n</span>]; <span class="id" type="tactic">intros</span>  <span class="id" type="var">comp</span> <span class="id" type="var">comp_approx</span> <span class="id" type="var">comp_def_on_dps</span> <span class="id" type="var">G</span>.<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">_</span> <span class="id" type="var">t</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">Acc_intro</span>.<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">s</span> [<span class="id" type="var">K</span> [<span class="id" type="var">As</span> <span class="id" type="var">At</span>]].<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">K</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">f</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> <span class="id" type="var">s'</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span>]; <span class="id" type="tactic">subst</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">t1</span> <span class="id" type="var">t2</span> <span class="id" type="var">sigma</span> <span class="id" type="var">H3</span> <span class="id" type="var">H4</span> <span class="id" type="var">H5</span>]; <span class="id" type="tactic">subst</span>.<br/>
<span class="id" type="tactic">rewrite</span> <span class="id" type="var">G</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H3</span>.<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">H3</span> <span class="id" type="keyword">as</span> [ [ | <span class="id" type="var">i</span>] [<span class="id" type="var">i_le_0</span> <span class="id" type="var">Hi</span>]].<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">Hi</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">_</span> <span class="id" type="var">Hi</span>]; <span class="id" type="tactic">apply</span> <span class="id" type="var">False_rec</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">Hi</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">refl_equal</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">i_le_0</span>.<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">W</span>.<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">n</span> <span class="id" type="keyword">as</span> [ | <span class="id" type="var">n</span>].<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">wf_incl</span> <span class="id" type="keyword">with</span> (<span class="id" type="var">rest</span> <span class="id" type="var">P</span> (<span class="id" type="var">rdp_step</span> (<span class="id" type="var">axiom</span> (<span class="id" type="var">dpi</span> <span class="id" type="var">comp</span> 1)) <span class="id" type="var">R</span>)).<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">s</span> <span class="id" type="var">t</span> [<span class="id" type="var">K</span> [<span class="id" type="var">As</span> <span class="id" type="var">At</span>]]; <span class="id" type="tactic">split</span>; [ | <span class="id" type="tactic">split</span>; <span class="id" type="tactic">assumption</span>].<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">K</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">f</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> <span class="id" type="var">s'</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span>]; <span class="id" type="tactic">subst</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">t1</span> <span class="id" type="var">t2</span> <span class="id" type="var">sigma</span> <span class="id" type="var">H3</span> <span class="id" type="var">H4</span> <span class="id" type="var">H5</span>]; <span class="id" type="tactic">subst</span>.<br/>
<span class="id" type="tactic">rewrite</span> <span class="id" type="var">G</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H3</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">H3</span> <span class="id" type="keyword">as</span> [[ | [ | <span class="id" type="var">i</span>]] [<span class="id" type="var">i_le_1</span> [<span class="id" type="var">H3</span> <span class="id" type="var">i_diff_0</span>]]].<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">False_rec</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">i_diff_0</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">refl_equal</span>.<br/>
<span class="id" type="var">constructor</span> 1 <span class="id" type="keyword">with</span> <span class="id" type="var">l2</span>; <span class="id" type="tactic">trivial</span>.<br/>
<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H5</span>; <span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">split</span>; <span class="id" type="tactic">trivial</span>.<br/>
<span class="id" type="tactic">assert</span> (<span class="id" type="var">H</span> := <span class="id" type="var">le_S_n</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">i_le_1</span>); <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">apply</span> (<span class="id" type="var">W</span> 1).<br/>
<span class="id" type="tactic">set</span> (<span class="id" type="var">comp'</span> := <span class="id" type="keyword">fun</span> <span class="id" type="var">uv</span> =&gt; <span class="id" type="keyword">match</span> <span class="id" type="var">comp</span> <span class="id" type="var">uv</span> <span class="id" type="keyword">with</span> 0 =&gt; 0 | <span class="id" type="var">S</span> 0 =&gt; <span class="id" type="var">S</span> 0 | <span class="id" type="var">S</span> (<span class="id" type="var">S</span> <span class="id" type="var">n</span>) =&gt; <span class="id" type="var">S</span> <span class="id" type="var">n</span> <span class="id" type="keyword">end</span>).<br/>
<span class="id" type="tactic">apply</span> (<span class="id" type="var">IHn</span> <span class="id" type="var">comp'</span>); <span class="id" type="tactic">clear</span> <span class="id" type="var">IHn</span>.<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">uv</span> <span class="id" type="var">uv'</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">generalize</span> (<span class="id" type="var">comp_approx</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>); <span class="id" type="tactic">unfold</span> <span class="id" type="var">comp'</span>.<br/>
<span class="id" type="tactic">destruct</span> (<span class="id" type="var">comp</span> <span class="id" type="var">uv</span>) <span class="id" type="keyword">as</span> [ | [ | <span class="id" type="var">c</span>]];<br/>
<span class="id" type="tactic">destruct</span> (<span class="id" type="var">comp</span> <span class="id" type="var">uv'</span>) <span class="id" type="keyword">as</span> [ | [ | <span class="id" type="var">c'</span>]]; <span class="id" type="tactic">auto</span> <span class="id" type="keyword">with</span> <span class="id" type="var">arith</span>.<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">u</span> <span class="id" type="var">v</span>; <span class="id" type="tactic">rewrite</span> &lt;- (<span class="id" type="var">comp_def_on_dps</span> <span class="id" type="var">u</span> <span class="id" type="var">v</span>).<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">comp'</span>; <span class="id" type="tactic">destruct</span> (<span class="id" type="var">comp</span> (<span class="id" type="var">u</span>,v)) <span class="id" type="keyword">as</span> [ | [ | <span class="id" type="var">i</span>]]; <span class="id" type="tactic">split</span>; <span class="id" type="tactic">intro</span>; (<span class="id" type="tactic">trivial</span> || <span class="id" type="tactic">discriminate</span>).<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">u</span> <span class="id" type="var">v</span>; <span class="id" type="tactic">rewrite</span> <span class="id" type="var">G</span>; <span class="id" type="tactic">split</span>.<br/>
<span class="id" type="tactic">intros</span> [[ | [ | <span class="id" type="var">i</span>]] [<span class="id" type="var">i_le_n</span> <span class="id" type="var">Hi</span>]].<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">Hi</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">_</span> <span class="id" type="var">Hi</span>]; <span class="id" type="tactic">apply</span> <span class="id" type="var">False_rec</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">Hi</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">refl_equal</span>.<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">Hi</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">Hi</span> <span class="id" type="var">_</span>]; <span class="id" type="var">exists</span> 1; <span class="id" type="tactic">split</span>.<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">le_n_S</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">le_O_n</span>.<br/>
<span class="id" type="tactic">split</span>; [<span class="id" type="tactic">unfold</span> <span class="id" type="var">comp'</span>; <span class="id" type="tactic">rewrite</span> <span class="id" type="var">Hi</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">refl_equal</span> | <span class="id" type="tactic">discriminate</span>].<br/>
<span class="id" type="var">exists</span> (<span class="id" type="var">S</span> <span class="id" type="var">i</span>); <span class="id" type="tactic">split</span>.<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">le_S_n</span>; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">split</span>; [<span class="id" type="tactic">destruct</span> <span class="id" type="var">Hi</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">Hi</span> <span class="id" type="var">_</span>] | <span class="id" type="tactic">discriminate</span>].<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">comp'</span>; <span class="id" type="tactic">rewrite</span> <span class="id" type="var">Hi</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">refl_equal</span>.<br/>

<br/>
<span class="id" type="tactic">intros</span> [[ | <span class="id" type="var">i</span>] [<span class="id" type="var">i_le_Sn</span> <span class="id" type="var">Hi</span>]].<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">Hi</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">_</span> <span class="id" type="var">Hi</span>]; <span class="id" type="tactic">apply</span> <span class="id" type="var">False_rec</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">Hi</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">refl_equal</span>.<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">Hi</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">Hi</span> <span class="id" type="var">_</span>]; <span class="id" type="var">exists</span> (<span class="id" type="var">comp</span> (<span class="id" type="var">u</span>,v)); <span class="id" type="tactic">split</span>.<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">comp'</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Hi</span>; <span class="id" type="tactic">destruct</span> (<span class="id" type="var">comp</span> (<span class="id" type="var">u</span>,v)) <span class="id" type="keyword">as</span> [ | [ | <span class="id" type="var">c</span>]]; <br/>
[ <span class="id" type="tactic">discriminate</span> <br/>
| <span class="id" type="tactic">apply</span> <span class="id" type="var">le_n_S</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">le_O_n</span> <br/>
| <span class="id" type="tactic">injection</span> <span class="id" type="var">Hi</span>; <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">le_n_S</span>; <span class="id" type="tactic">assumption</span>].<br/>
<span class="id" type="tactic">split</span>; [<span class="id" type="tactic">apply</span> <span class="id" type="var">refl_equal</span> | <span class="id" type="tactic">unfold</span> <span class="id" type="var">comp'</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Hi</span>; <span class="id" type="tactic">destruct</span> (<span class="id" type="var">comp</span> (<span class="id" type="var">u</span>,v)); <span class="id" type="tactic">discriminate</span>].<br/>

<br/>
<span class="id" type="tactic">intros</span> [ | [ | <span class="id" type="var">n0</span>]].<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">wf_incl</span> <span class="id" type="keyword">with</span> (<span class="id" type="var">rest</span> <span class="id" type="var">P</span> (<span class="id" type="var">rdp_step</span> (<span class="id" type="var">axiom</span> (<span class="id" type="var">dpi</span> <span class="id" type="var">comp</span> 0)) <span class="id" type="var">R</span>)).<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">s</span> <span class="id" type="var">t</span> [<span class="id" type="var">K</span> [<span class="id" type="var">As</span> <span class="id" type="var">At</span>]]; <span class="id" type="tactic">split</span>; [ | <span class="id" type="tactic">split</span>; <span class="id" type="tactic">assumption</span>].<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">K</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">f</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> <span class="id" type="var">s'</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span>]; <span class="id" type="tactic">subst</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">t1</span> <span class="id" type="var">t2</span> <span class="id" type="var">sigma</span> <span class="id" type="var">H3</span> <span class="id" type="var">H4</span> <span class="id" type="var">H5</span>]; <span class="id" type="tactic">subst</span>.<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">H3</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">_</span> <span class="id" type="var">i_diff_0</span>]; <span class="id" type="tactic">apply</span> <span class="id" type="var">False_rec</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">i_diff_0</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">refl_equal</span>.<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">W</span>.<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">wf_incl</span> <span class="id" type="keyword">with</span> (<span class="id" type="var">union</span> <span class="id" type="var">_</span> (<span class="id" type="var">rest</span> <span class="id" type="var">P</span> (<span class="id" type="var">rdp_step</span> (<span class="id" type="var">axiom</span> (<span class="id" type="var">dpi</span> <span class="id" type="var">comp</span> 2)) <span class="id" type="var">R</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">rest</span> <span class="id" type="var">P</span> (<span class="id" type="var">rdp_step</span> (<span class="id" type="var">axiom</span> (<span class="id" type="var">dpi</span> <span class="id" type="var">comp</span> 1)) <span class="id" type="var">R</span>))).<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">s</span> <span class="id" type="var">t</span> [<span class="id" type="var">K</span> [<span class="id" type="var">As</span> <span class="id" type="var">At</span>]];<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">K</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">f</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> <span class="id" type="var">s'</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span>]; <span class="id" type="tactic">subst</span>;<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">t1</span> <span class="id" type="var">t2</span> <span class="id" type="var">sigma</span> <span class="id" type="var">H3</span> <span class="id" type="var">H4</span> <span class="id" type="var">H5</span>]; <span class="id" type="tactic">subst</span>;<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">H3</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">H3</span> <span class="id" type="var">_</span>]; <span class="id" type="tactic">unfold</span> <span class="id" type="var">comp'</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H3</span>.<br/>
<span class="id" type="var">case_eq</span> (<span class="id" type="var">comp</span> (<span class="id" type="var">t2</span>,t1)).<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">c_eq_0</span>; <span class="id" type="tactic">rewrite</span> <span class="id" type="var">c_eq_0</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H3</span>; <span class="id" type="tactic">discriminate</span>.<br/>
<span class="id" type="tactic">intros</span> [ | [ | <span class="id" type="var">i</span>]] <span class="id" type="var">c_eq_i</span>; <span class="id" type="tactic">rewrite</span> <span class="id" type="var">c_eq_i</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H3</span>.<br/>
<span class="id" type="var">right</span>; <span class="id" type="tactic">split</span>; [ | <span class="id" type="tactic">split</span>; <span class="id" type="tactic">assumption</span>].<br/>
<span class="id" type="var">constructor</span> 1 <span class="id" type="keyword">with</span> <span class="id" type="var">l2</span>; <span class="id" type="tactic">trivial</span>.<br/>
<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H5</span>; <span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">split</span>; [<span class="id" type="tactic">assumption</span> | <span class="id" type="tactic">discriminate</span>].<br/>
<span class="id" type="var">left</span>; <span class="id" type="tactic">split</span>; [ | <span class="id" type="tactic">split</span>; <span class="id" type="tactic">assumption</span>].<br/>
<span class="id" type="var">constructor</span> 1 <span class="id" type="keyword">with</span> <span class="id" type="var">l2</span>; <span class="id" type="tactic">trivial</span>.<br/>
<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H5</span>; <span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">split</span>; [<span class="id" type="tactic">assumption</span> | <span class="id" type="tactic">discriminate</span>].<br/>
<span class="id" type="tactic">discriminate</span> <span class="id" type="var">H3</span>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">comp'</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">rewrite</span> &lt;- (<span class="id" type="var">acc_union_alt</span> <span class="id" type="var">_</span> (<span class="id" type="var">W</span> 2)).<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">t</span> <span class="id" type="var">_</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">a</span>.<br/>
<span class="id" type="tactic">pattern</span> <span class="id" type="var">t</span>; <span class="id" type="tactic">apply</span> (<span class="id" type="var">well_founded_ind</span> (<span class="id" type="var">W</span> 1)); <span class="id" type="tactic">clear</span> <span class="id" type="var">t</span>; <span class="id" type="tactic">intro</span> <span class="id" type="var">t</span>.<br/>
<span class="id" type="tactic">set</span> (<span class="id" type="var">R1</span> := <span class="id" type="var">rest</span> <span class="id" type="var">P</span> (<span class="id" type="var">rdp_step</span> (<span class="id" type="var">axiom</span> (<span class="id" type="var">dpi</span> <span class="id" type="var">comp</span> 1)) <span class="id" type="var">R</span>)) <span class="id" type="keyword">in</span> *.<br/>
<span class="id" type="tactic">set</span> (<span class="id" type="var">R2</span> := <span class="id" type="var">rest</span> <span class="id" type="var">P</span> (<span class="id" type="var">rdp_step</span> (<span class="id" type="var">axiom</span> (<span class="id" type="var">dpi</span> <span class="id" type="var">comp</span> 2)) <span class="id" type="var">R</span>)) <span class="id" type="keyword">in</span> *.<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">IH1</span>.<br/>
<span class="id" type="tactic">rewrite</span> <span class="id" type="var">accR2</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">Acc_intro</span>; <span class="id" type="tactic">intros</span> <span class="id" type="var">s</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">accR2</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">a1</span> <span class="id" type="var">a3</span> <span class="id" type="var">a5</span> <span class="id" type="var">H13</span> <span class="id" type="var">H35</span>]; <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span> <span class="id" type="var">s</span> <span class="id" type="var">t</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H35</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">a3'</span> <span class="id" type="var">a4</span> <span class="id" type="var">a5'</span> <span class="id" type="var">H34</span> <span class="id" type="var">H45</span>]; <span class="id" type="tactic">subst</span> <span class="id" type="var">a3'</span> <span class="id" type="var">a5'</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H34</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">a34</span> | <span class="id" type="var">a3'</span> <span class="id" type="var">a4'</span> <span class="id" type="var">K34</span>]; <span class="id" type="tactic">clear</span> <span class="id" type="var">H34</span>.<br/>
<span class="id" type="tactic">subst</span> <span class="id" type="var">a3</span> <span class="id" type="var">a4</span>.<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">Acc_inv</span> <span class="id" type="keyword">with</span> <span class="id" type="var">a34</span>; [ <span class="id" type="tactic">apply</span> <span class="id" type="var">IH1</span> | ]; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">subst</span> <span class="id" type="var">a3'</span> <span class="id" type="var">a4'</span>.<br/>
<span class="id" type="tactic">assert</span> (<span class="id" type="var">H</span> : <span class="id" type="var">exists</span> <span class="id" type="var">a</span>, <span class="id" type="var">R2</span> <span class="id" type="var">a</span> <span class="id" type="var">a4</span>).<br/>
<span class="id" type="tactic">rewrite</span> <span class="id" type="var">trans_clos_trans_clos_alt</span> <span class="id" type="keyword">in</span> <span class="id" type="var">K34</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">K34</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">a3'</span> <span class="id" type="var">a4'</span> <span class="id" type="var">H34</span> | <span class="id" type="var">a3'</span> <span class="id" type="var">a</span> <span class="id" type="var">a4'</span> <span class="id" type="var">H3</span> <span class="id" type="var">H4</span>]; <span class="id" type="tactic">clear</span> <span class="id" type="var">K34</span>; <span class="id" type="tactic">subst</span> <span class="id" type="var">a3'</span> <span class="id" type="var">a4'</span>.<br/>
<span class="id" type="var">exists</span> <span class="id" type="var">a3</span>; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="var">exists</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">a</span> <span class="id" type="var">H</span>]; <span class="id" type="tactic">apply</span> <span class="id" type="var">False_rec</span>.<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">H45</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">H45</span> <span class="id" type="var">_</span>]; <span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">H</span> <span class="id" type="var">_</span>].<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H45</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">f</span> <span class="id" type="var">l5</span> <span class="id" type="var">l4</span> <span class="id" type="var">t4</span> <span class="id" type="var">H5</span> <span class="id" type="var">H4</span>]; <span class="id" type="tactic">subst</span> <span class="id" type="var">a4</span> <span class="id" type="var">a5</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H4</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">v4</span> <span class="id" type="var">u4</span> <span class="id" type="var">sigma4</span>]; <span class="id" type="tactic">subst</span> <span class="id" type="var">t4</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">g</span> <span class="id" type="var">k4</span> <span class="id" type="var">l</span> <span class="id" type="var">t</span> <span class="id" type="var">K4</span> <span class="id" type="var">K</span>]; <span class="id" type="tactic">subst</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">K</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">v</span> <span class="id" type="var">u</span> <span class="id" type="var">sigma</span>]; <span class="id" type="tactic">subst</span> <span class="id" type="var">t</span>.<br/>
<span class="id" type="tactic">assert</span> (<span class="id" type="var">C</span> : <span class="id" type="var">are_connected</span> <span class="id" type="var">dpR</span> <span class="id" type="var">R</span> (<span class="id" type="var">u</span>,v) (<span class="id" type="var">u4</span>,v4)).<br/>
<span class="id" type="var">exists</span> <span class="id" type="var">sigma4</span>; <span class="id" type="var">exists</span> <span class="id" type="var">sigma</span>.<br/>
<span class="id" type="tactic">split</span>.<br/>
<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">comp_def_on_dps</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">H2</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">H2</span> <span class="id" type="var">_</span>]; <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">discriminate</span>.<br/>
<span class="id" type="tactic">split</span>.<br/>
<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">comp_def_on_dps</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">H7</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">H7</span> <span class="id" type="var">_</span>]; <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H7</span>; <span class="id" type="tactic">discriminate</span>.<br/>
<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H6</span>; <span class="id" type="tactic">split</span>; <span class="id" type="tactic">trivial</span>.<br/>
<span class="id" type="tactic">generalize</span> (<span class="id" type="var">comp_approx</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">C</span>).<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">H2</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">H2</span> <span class="id" type="var">_</span>]; <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H2</span>.<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">H7</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">H7</span> <span class="id" type="var">_</span>]; <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H7</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">Abs</span>; <span class="id" type="tactic">generalize</span> (<span class="id" type="var">le_S_n</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">Abs</span>); <span class="id" type="tactic">clear</span> <span class="id" type="var">Abs</span>; <span class="id" type="tactic">intro</span> <span class="id" type="var">Abs</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">Abs</span>.<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">wf_incl</span> <span class="id" type="keyword">with</span> (<span class="id" type="var">rest</span> <span class="id" type="var">P</span> (<span class="id" type="var">rdp_step</span> (<span class="id" type="var">axiom</span> (<span class="id" type="var">dpi</span> <span class="id" type="var">comp</span> (<span class="id" type="var">S</span> (<span class="id" type="var">S</span> (<span class="id" type="var">S</span> <span class="id" type="var">n0</span>))))) <span class="id" type="var">R</span>)).<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">s</span> <span class="id" type="var">t</span> [<span class="id" type="var">K</span> [<span class="id" type="var">As</span> <span class="id" type="var">At</span>]]; <span class="id" type="tactic">split</span>; [ | <span class="id" type="tactic">split</span>; <span class="id" type="tactic">assumption</span>].<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">K</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">f</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> <span class="id" type="var">s'</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span>]; <span class="id" type="tactic">subst</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">t1</span> <span class="id" type="var">t2</span> <span class="id" type="var">sigma</span> <span class="id" type="var">H3</span> <span class="id" type="var">H4</span> <span class="id" type="var">H5</span>]; <span class="id" type="tactic">subst</span>.<br/>
<span class="id" type="var">constructor</span> 1 <span class="id" type="keyword">with</span> <span class="id" type="var">l2</span>; <span class="id" type="tactic">trivial</span>.<br/>
<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H5</span>; <span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">split</span>; [ | <span class="id" type="tactic">discriminate</span>].<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">H3</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">H3</span> <span class="id" type="var">_</span>]; <span class="id" type="tactic">unfold</span> <span class="id" type="var">comp'</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H3</span>; <span class="id" type="tactic">destruct</span> (<span class="id" type="var">comp</span> (<span class="id" type="var">t2</span>,t1)) <span class="id" type="keyword">as</span> [ | [ | <span class="id" type="var">c</span>]].<br/>
<span class="id" type="tactic">discriminate</span> <span class="id" type="var">H3</span>.<br/>
<span class="id" type="tactic">discriminate</span> <span class="id" type="var">H3</span>.<br/>
<span class="id" type="tactic">injection</span> <span class="id" type="var">H3</span>; <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">refl_equal</span>.<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">W</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Inductive</span> <span class="id" type="var">lex</span> <span class="id" type="var">o1</span> <span class="id" type="var">lo1</span> <span class="id" type="var">o2</span> : <span class="id" type="var">relation</span> <span class="id" type="var">term</span> :=<br/>
&nbsp;&nbsp;| <span class="id" type="var">Comp1</span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">t</span>, <span class="id" type="var">o1</span> <span class="id" type="var">s</span> <span class="id" type="var">t</span> -&gt; <span class="id" type="var">lex</span> <span class="id" type="var">o1</span> <span class="id" type="var">lo1</span> <span class="id" type="var">o2</span> <span class="id" type="var">s</span> <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">Comp2</span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">t</span>, <span class="id" type="var">lo1</span> <span class="id" type="var">s</span> <span class="id" type="var">t</span> -&gt; <span class="id" type="var">o2</span> <span class="id" type="var">s</span> <span class="id" type="var">t</span> -&gt; <span class="id" type="var">lex</span> <span class="id" type="var">o1</span> <span class="id" type="var">lo1</span> <span class="id" type="var">o2</span> <span class="id" type="var">s</span> <span class="id" type="var">t</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="var">wf_lex</span> : <br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> (<span class="id" type="var">o1</span> <span class="id" type="var">lo1</span> <span class="id" type="var">o2</span> : <span class="id" type="var">relation</span> <span class="id" type="var">term</span>), (<span class="id" type="keyword">forall</span> <span class="id" type="var">t1</span> <span class="id" type="var">t2</span> <span class="id" type="var">t3</span>, <span class="id" type="var">o1</span> <span class="id" type="var">t1</span> <span class="id" type="var">t2</span> -&gt; <span class="id" type="var">lo1</span> <span class="id" type="var">t2</span> <span class="id" type="var">t3</span> -&gt; <span class="id" type="var">o1</span> <span class="id" type="var">t1</span> <span class="id" type="var">t3</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id" type="var">well_founded</span> <span class="id" type="var">o1</span> -&gt; <span class="id" type="var">well_founded</span> <span class="id" type="var">o2</span> -&gt; <span class="id" type="var">well_founded</span> (<span class="id" type="var">lex</span> <span class="id" type="var">o1</span> <span class="id" type="var">lo1</span> <span class="id" type="var">o2</span>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">o1</span> <span class="id" type="var">lo1</span> <span class="id" type="var">o2</span> <span class="id" type="var">Transo</span> <span class="id" type="var">W1</span> <span class="id" type="var">W2</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">t</span>; <span class="id" type="tactic">apply</span> (<span class="id" type="var">well_founded_ind</span> <span class="id" type="var">W1</span>); <span class="id" type="tactic">clear</span> <span class="id" type="var">t</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">t</span>; <span class="id" type="tactic">pattern</span> <span class="id" type="var">t</span>; <span class="id" type="tactic">apply</span> (<span class="id" type="var">well_founded_ind</span> <span class="id" type="var">W2</span>); <span class="id" type="tactic">clear</span> <span class="id" type="var">t</span>.<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">t</span> <span class="id" type="var">IH2</span> <span class="id" type="var">IH1</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">Acc_intro</span>.<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">s</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">u1</span> <span class="id" type="var">u2</span> <span class="id" type="var">K</span> | <span class="id" type="var">u1</span> <span class="id" type="var">u2</span> <span class="id" type="var">K1</span> <span class="id" type="var">K2</span>]; <span class="id" type="tactic">subst</span>.<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">IH1</span>; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">IH2</span>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">u</span> <span class="id" type="var">K3</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">IH1</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">Transo</span> <span class="id" type="keyword">with</span> <span class="id" type="var">s</span>; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Defined</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="var">remove_edge</span> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> (<span class="id" type="var">dpR</span> <span class="id" type="var">R</span> : <span class="id" type="var">relation</span> <span class="id" type="var">term</span>) <span class="id" type="var">P</span> <span class="id" type="var">u0</span> <span class="id" type="var">v0</span> (<span class="id" type="var">lo</span> <span class="id" type="var">so</span> : <span class="id" type="var">relation</span> <span class="id" type="var">term</span>), <br/>
&nbsp;&nbsp;(<span class="id" type="keyword">forall</span> <span class="id" type="var">t</span>, <span class="id" type="var">lo</span> <span class="id" type="var">t</span> <span class="id" type="var">t</span>) -&gt;<br/>
&nbsp;&nbsp;(<span class="id" type="keyword">forall</span> <span class="id" type="var">t1</span> <span class="id" type="var">t2</span> <span class="id" type="var">t3</span>, <span class="id" type="var">lo</span> <span class="id" type="var">t1</span> <span class="id" type="var">t2</span> -&gt; <span class="id" type="var">lo</span> <span class="id" type="var">t2</span> <span class="id" type="var">t3</span> -&gt; <span class="id" type="var">lo</span> <span class="id" type="var">t1</span> <span class="id" type="var">t3</span>) -&gt;<br/>
&nbsp;&nbsp;(<span class="id" type="keyword">forall</span> <span class="id" type="var">t1</span> <span class="id" type="var">t2</span> <span class="id" type="var">t3</span>, <span class="id" type="var">so</span> <span class="id" type="var">t1</span> <span class="id" type="var">t2</span> -&gt; <span class="id" type="var">lo</span> <span class="id" type="var">t2</span> <span class="id" type="var">t3</span> -&gt; <span class="id" type="var">so</span> <span class="id" type="var">t1</span> <span class="id" type="var">t3</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id" type="var">well_founded</span> <span class="id" type="var">so</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">t</span>, <span class="id" type="var">one_step</span> <span class="id" type="var">R</span> <span class="id" type="var">s</span> <span class="id" type="var">t</span> -&gt; <span class="id" type="var">lo</span> <span class="id" type="var">s</span> <span class="id" type="var">t</span>) -&gt;<br/>
&nbsp;&nbsp;(<span class="id" type="keyword">forall</span> <span class="id" type="var">u</span> <span class="id" type="var">v</span>, <span class="id" type="var">dpR</span> <span class="id" type="var">v</span> <span class="id" type="var">u</span> -&gt; <span class="id" type="keyword">forall</span> <span class="id" type="var">sigma</span>, <span class="id" type="var">lo</span> (<span class="id" type="var">apply_subst</span> <span class="id" type="var">sigma</span> <span class="id" type="var">v</span>) (<span class="id" type="var">apply_subst</span> <span class="id" type="var">sigma</span> <span class="id" type="var">u</span>)) -&gt;<br/>
&nbsp;&nbsp;(<span class="id" type="keyword">forall</span> <span class="id" type="var">sigma</span>, <span class="id" type="var">so</span>  (<span class="id" type="var">apply_subst</span> <span class="id" type="var">sigma</span> <span class="id" type="var">v0</span>) (<span class="id" type="var">apply_subst</span> <span class="id" type="var">sigma</span> <span class="id" type="var">u0</span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id" type="var">well_founded</span>  (<span class="id" type="var">rest</span> <span class="id" type="var">P</span> (<span class="id" type="var">rdp_step</span> (<span class="id" type="var">axiom</span> <span class="id" type="var">dpR</span>) <span class="id" type="var">R</span>)) -&gt; <br/>
&nbsp;&nbsp;<span class="id" type="var">well_founded</span>  (<span class="id" type="var">rest</span> <span class="id" type="var">P</span> (<span class="id" type="var">rdp_step</span> (<span class="id" type="var">axiom</span> (<span class="id" type="var">union</span> <span class="id" type="var">_</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">s</span> <span class="id" type="var">t</span> =&gt; (<span class="id" type="var">s</span>,t) = (<span class="id" type="var">v0</span>,u0)) <span class="id" type="var">dpR</span>)) <span class="id" type="var">R</span>)).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">dpR</span> <span class="id" type="var">R</span> <span class="id" type="var">P</span> <span class="id" type="var">u0</span> <span class="id" type="var">v0</span> <span class="id" type="var">lo</span> <span class="id" type="var">so</span> <span class="id" type="var">lo_refl</span> <span class="id" type="var">lo_trans</span> <span class="id" type="var">Transo</span> <span class="id" type="var">Wo</span> <span class="id" type="var">Hlo</span> <span class="id" type="var">Hlo'</span> <span class="id" type="var">Hso</span> <span class="id" type="var">W</span>.<br/>
<span class="id" type="tactic">assert</span> (<span class="id" type="var">WW</span> := <span class="id" type="var">wf_lex</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">Transo</span> <span class="id" type="var">Wo</span> <span class="id" type="var">W</span>).<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">t</span>; <span class="id" type="tactic">apply</span> (<span class="id" type="var">well_founded_ind</span> <span class="id" type="var">WW</span>); <span class="id" type="tactic">clear</span> <span class="id" type="var">t</span>.<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">t</span> <span class="id" type="var">IH</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">Acc_intro</span>; <span class="id" type="tactic">intros</span> <span class="id" type="var">s</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">IH</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">WW</span> <span class="id" type="var">IH</span>.<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">H</span> [<span class="id" type="var">Ps</span> <span class="id" type="var">Pt</span>]].<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">f</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> <span class="id" type="var">v</span> <span class="id" type="var">K1</span> <span class="id" type="var">K2</span>]; <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">K2</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">v</span> <span class="id" type="var">u</span> <span class="id" type="var">sigma</span> [<span class="id" type="var">K3</span> | <span class="id" type="var">K3</span>]]; <span class="id" type="tactic">clear</span> <span class="id" type="var">K2</span>; <span class="id" type="tactic">subst</span>.<br/>
<span class="id" type="tactic">injection</span> <span class="id" type="var">K3</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">K3</span>; <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">subst</span> <span class="id" type="var">u</span> <span class="id" type="var">v</span>.<br/>
<span class="id" type="var">left</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">Transo</span> <span class="id" type="keyword">with</span> (<span class="id" type="var">Term</span> <span class="id" type="var">f</span> <span class="id" type="var">l2</span>).<br/>
<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H1</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">Hso</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">K1</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">l</span> | <span class="id" type="var">k1</span> <span class="id" type="var">k2</span> <span class="id" type="var">K</span>]; <span class="id" type="tactic">clear</span> <span class="id" type="var">K1</span>; <span class="id" type="tactic">subst</span>.<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">lo_refl</span>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">Pt</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">K</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">k1</span> <span class="id" type="var">k2</span> <span class="id" type="var">K</span> | <span class="id" type="var">k1</span> <span class="id" type="var">k2</span> <span class="id" type="var">k3</span> <span class="id" type="var">K1</span> <span class="id" type="var">K2</span>].<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">Hlo</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">in_context</span>; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">lo_trans</span> <span class="id" type="keyword">with</span> (<span class="id" type="var">Term</span> <span class="id" type="var">f</span> <span class="id" type="var">k2</span>); [<span class="id" type="tactic">apply</span> <span class="id" type="var">Hlo</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">in_context</span> | ]; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="var">right</span>.<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">lo_trans</span> <span class="id" type="keyword">with</span> (<span class="id" type="var">Term</span> <span class="id" type="var">f</span> <span class="id" type="var">l2</span>).<br/>
<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H1</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">Hlo'</span>; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">K1</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">l</span> | <span class="id" type="var">k1</span> <span class="id" type="var">k2</span> <span class="id" type="var">K</span>]; <span class="id" type="tactic">clear</span> <span class="id" type="var">K1</span>; <span class="id" type="tactic">subst</span>.<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">lo_refl</span>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">Pt</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">K</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">k1</span> <span class="id" type="var">k2</span> <span class="id" type="var">K</span> | <span class="id" type="var">k1</span> <span class="id" type="var">k2</span> <span class="id" type="var">k3</span> <span class="id" type="var">K1</span> <span class="id" type="var">K2</span>].<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">Hlo</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">in_context</span>; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">lo_trans</span> <span class="id" type="keyword">with</span> (<span class="id" type="var">Term</span> <span class="id" type="var">f</span> <span class="id" type="var">k2</span>); [<span class="id" type="tactic">apply</span> <span class="id" type="var">Hlo</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">in_context</span> | ]; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">split</span>; [ <span class="id" type="var">constructor</span> 1 <span class="id" type="keyword">with</span> <span class="id" type="var">l2</span>; [ | <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H1</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">instance</span>] | <span class="id" type="tactic">split</span>]; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">End</span> <span class="id" type="var">MakeGDP</span>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://www.lix.polytechnique.fr/coq/">coqdoc</a>
</div>

</div>

</body>
</html>